define(["app","webApi"],function(t,e){"use strict";function i(t,e){function i(){t.request("POST","category/all").then(function e(t){o.categories=t.data},function i(t){})}console.log("CategoryCtrl");var o=this;this.editMode=!1,this.categories=e,this.category={parentCategory:null,title:null,description:null},this.create=function(){t.request("POST","category/create",this.category).then(function e(t){console.log(t)},function o(t){console.log(t)}).then(i),this.cancel()},this.edit=function(t){if(null!==this.categories)for(var e=0;e<this.categories.length;e++)this.categories[e]._id===t&&(this.editMode=this.categories[e]._id,this.category=this.categories[e])},this.update=function(e){e._id=this.editMode,t.request("POST","category/update",e).then(function o(t){console.log(t)},function n(t){console.log(t)}).then(i),this.cancel()},this["delete"]=function(e){t.request("POST","category/delete",{_id:e}).then(function o(t){console.log(t)},function n(t){console.log(t)}).then(i)},this.cancel=function(){this.category={parentCategory:null,title:null,description:null},this.editMode=!1}}angular.module("app").controller("CategoryCtrl",i),i.$inject=["webApi","categories"]});