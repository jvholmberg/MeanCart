define(["app","webApi","bootstrap.dropdown"],function(t,n){"use strict";function l(t,n,l,e){function o(){t.request("POST","product/all").then(function n(t){u.products=t.data},function l(t){console.log(t)})}console.log("ProductCtrl");var u=this;this.categories=n,this.brands=e,this.products=l,this.product={name:null,summary:null,description:null,category:null,brand:null,sku:null,price:null,salePrice:null,stockLevel:null,stockStatus:null,weight:null,width:null,height:null,depth:null},this.editMode=!1,this.create=function(){t.request("POST","product/create",this.product).then(function n(t){console.log(t),u.cancel()},function l(t){console.log(t)}).then(o)},this.edit=function(t){if(null!==this.products)for(var n=0;n<this.products.length;n++)this.products[n]._id===t&&(this.editMode=this.products[n]._id,this.product=this.products[n])},this.update=function(n){n._id=this.editMode,t.request("POST","product/update",n).then(function l(t){console.log(t),u.cancel()},function e(t){console.log(t)}).then(o)},this["delete"]=function(n){t.request("POST","product/delete",{_id:n}).then(function l(t){console.log(t)},function e(t){console.log(t)}).then(o)},this.cancel=function(){this.product={name:null,summary:null,description:null,category:null,brand:null,sku:null,price:null,salePrice:null,stockLevel:null,stockStatus:null,weight:null,width:null,height:null,depth:null},this.editMode=!1}}angular.module("app").controller("ProductCtrl",l),l.$inject=["webApi","categories","products","brands"]});